<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to Parallel-SSH’s documentation! &mdash; Parallel-SSH 0.4 documentation</title>
    
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Parallel-SSH 0.4 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">Parallel-SSH 0.4 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-parallel-ssh-s-documentation">
<h1>Welcome to Parallel-SSH&#8217;s documentation!<a class="headerlink" href="#welcome-to-parallel-ssh-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<span class="target" id="module-pssh"></span><p>Module containing wrapper classes over paramiko.SSHClient
See SSHClient and ParallelSSHClient</p>
<dl class="class">
<dt id="pssh.ParallelSSHClient">
<em class="property">class </em><tt class="descclassname">pssh.</tt><tt class="descname">ParallelSSHClient</tt><big>(</big><em>hosts</em>, <em>user=None</em>, <em>password=None</em>, <em>port=None</em>, <em>pkey=None</em>, <em>pool_size=10</em><big>)</big><a class="headerlink" href="#pssh.ParallelSSHClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses <a class="reference internal" href="#pssh.SSHClient" title="pssh.SSHClient"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.SSHClient</span></tt></a>, performs tasks over SSH on multiple hosts in     parallel.</p>
<p>Connections to hosts are established in parallel when an object of this
class is created, therefor any connection and/or authentication exceptions     will happen on creation and need to be caught.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hosts</strong> (<em>list(str)</em>) &#8211; Hosts to connect to</li>
<li><strong>user</strong> (<em>str</em>) &#8211; (Optional) User to login as. Defaults to logged in user or        user from ~/.ssh/config or /etc/ssh/ssh_config if set</li>
<li><strong>password</strong> (<em>str</em>) &#8211; (Optional) Password to use for login. Defaults to        no password</li>
<li><strong>port</strong> (<em>int</em>) &#8211; (Optional) Port number to use for SSH connection. Defaults        to None which uses SSH default</li>
<li><strong>pkey</strong> (<tt class="xref py py-mod docutils literal"><span class="pre">paramiko.PKey</span></tt>) &#8211; (Optional) Client&#8217;s private key to be used to connect with</li>
<li><strong>pool_size</strong> (<em>int</em>) &#8211; (Optional) Greenlet pool size. Controls on how many        hosts to execute tasks in parallel. Defaults to 10</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="#pssh.AuthenticationException" title="pssh.AuthenticationException"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.AuthenticationException</span></tt></a> on authentication error</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="#pssh.UnknownHostException" title="pssh.UnknownHostException"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.UnknownHostException</span></tt></a> on DNS resolution error</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pssh.ConnectionErrorException" title="pssh.ConnectionErrorException"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.ConnectionErrorException</span></tt></a> on error connecting</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pssh</span> <span class="kn">import</span> <span class="n">ParallelSSHClient</span><span class="p">,</span> <span class="n">AuthenticationException</span><span class="p">,</span>                        <span class="n">UnknownHostException</span><span class="p">,</span> <span class="n">ConnectionErrorException</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ParallelSSHClient</span><span class="p">([</span><span class="s">&#39;myhost1&#39;</span><span class="p">,</span> <span class="s">&#39;myhost2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="p">(</span><span class="n">AuthenticationException</span><span class="p">,</span> <span class="n">UnknownHostException</span><span class="p">,</span> <span class="n">ConnectionErrorException</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span> <span class="k">return</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span><span class="s">&#39;ls -ltrh /tmp/aasdfasdf&#39;</span><span class="p">,</span> <span class="n">sudo</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="n">client</span><span class="o">.</span><span class="n">get_stdout</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds</span><span class="p">]</span>
<span class="go">[myhost1]     ls: cannot access /tmp/aasdfasdf: No such file or directory</span>
<span class="go">[myhost2]     ls: cannot access /tmp/aasdfasdf: No such file or directory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">output</span>
<span class="go">[{&#39;myhost1&#39;: {&#39;exit_code&#39;: 2}}, {&#39;myhost2&#39;: {&#39;exit_code&#39;: 2}}]</span>
</pre></div>
</div>
<p><strong>Example with returned stdout and stderr buffers</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pssh</span> <span class="kn">import</span> <span class="n">ParallelSSHClient</span><span class="p">,</span> <span class="n">AuthenticationException</span><span class="p">,</span>                        <span class="n">UnknownHostException</span><span class="p">,</span> <span class="n">ConnectionErrorException</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ParallelSSHClient</span><span class="p">([</span><span class="s">&#39;myhost1&#39;</span><span class="p">,</span> <span class="s">&#39;myhost2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="p">(</span><span class="n">AuthenticationException</span><span class="p">,</span> <span class="n">UnknownHostException</span><span class="p">,</span> <span class="n">ConnectionErrorException</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span> <span class="k">return</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span><span class="s">&#39;ls -ltrh /tmp/aasdfasdf&#39;</span><span class="p">,</span> <span class="n">sudo</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="n">client</span><span class="o">.</span><span class="n">get_stdout</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">return_buffers</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">output</span>
<span class="go">[{&#39;myhost1&#39;: {&#39;exit_code&#39;: 2,</span>
<span class="go">              &#39;stdout&#39; : &lt;generator object &lt;genexpr&gt;,</span>
<span class="go">              &#39;stderr&#39; : &lt;generator object &lt;genexpr&gt;,}},</span>
<span class="go"> {&#39;myhost2&#39;: {&#39;exit_code&#39;: 2,</span>
<span class="go">              &#39;stdout&#39; : &lt;generator object &lt;genexpr&gt;,</span>
<span class="go">              &#39;stderr&#39; : &lt;generator object &lt;genexpr&gt;,}},</span>
<span class="go">              ]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">host_stdout</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
<span class="go">    ... for line in host_stdout[host_output.keys()[0]][&#39;stdout&#39;]:</span>
<span class="go">        ... print line</span>
<span class="go">            ls: cannot access /tmp/aasdfasdf: No such file or directory</span>
<span class="go">            ls: cannot access /tmp/aasdfasdf: No such file or directory</span>
</pre></div>
</div>
<p><strong>Example with specified private key</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">paramiko</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client_key</span> <span class="o">=</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">RSAKey</span><span class="o">.</span><span class="n">from_private_key_file</span><span class="p">(</span><span class="s">&#39;user.key&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">ParallelSSHClient</span><span class="p">([</span><span class="s">&#39;myhost1&#39;</span><span class="p">,</span> <span class="s">&#39;myhost2&#39;</span><span class="p">],</span> <span class="n">pkey</span><span class="o">=</span><span class="n">client_key</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Connection persistence</strong></p>
<p>Connections to hosts will remain established for the duration of the
object&#8217;s life. To close them, just <cite>del</cite> or reuse the object reference.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">ParallelSSHClient</span><span class="p">([</span><span class="s">&#39;localhost&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span><span class="s">&#39;ls -ltrh /tmp/aasdfasdf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">netstat:</th><td class="field-body"><tt class="docutils literal"><span class="pre">tcp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0</span> <span class="pre">127.0.0.1:53054</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">127.0.0.1:22</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">ESTABLISHED</span></tt></td>
</tr>
</tbody>
</table>
<p>Connection remains active after commands have finished executing. Any           additional commands will use the same connection.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">client</span>
</pre></div>
</div>
<p class="last">Connection is terminated.</p>
</div>
<dl class="method">
<dt id="pssh.ParallelSSHClient.copy_file">
<tt class="descname">copy_file</tt><big>(</big><em>local_file</em>, <em>remote_file</em><big>)</big><a class="headerlink" href="#pssh.ParallelSSHClient.copy_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy local file to remote file in parallel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>local_file</strong> (<em>str</em>) &#8211; Local filepath to copy to remote host</li>
<li><strong>remote_file</strong> (<em>str</em>) &#8211; Remote filepath on remote host to copy file to</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remote directories in <cite>remote_file</cite> that do not exist will be
created as long as permissions allow.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Path separation is handled client side so it is possible to copy
to/from hosts with differing path separators, like from/to Linux
and Windows.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List(<tt class="xref py py-mod docutils literal"><span class="pre">gevent.Greenlet</span></tt>) of greenlets for remote copy         commands</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pssh.ParallelSSHClient.exec_command">
<tt class="descname">exec_command</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pssh.ParallelSSHClient.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Run command on all hosts in parallel, honoring self.pool_size</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> (<em>tuple</em>) &#8211; Position arguments for command</li>
<li><strong>kwargs</strong> (<em>dict</em>) &#8211; Keyword arguments for command</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List of <tt class="xref py py-mod docutils literal"><span class="pre">gevent.Greenlet</span></tt></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cmds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span><span class="s">&#39;ls -ltrh&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Wait for completion, no stdout:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cmd</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively/in addition print stdout for each command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="p">[</span><span class="n">get_stdout</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds</span><span class="p">]</span>
</pre></div>
</div>
<p>Retrieving stdout implies join, meaning get_stdout will wait
for completion of all commands before returning output.</p>
<p>You may call get_stdout on already completed greenlets to re-get
their output as many times as you want.</p>
</dd></dl>

<dl class="method">
<dt id="pssh.ParallelSSHClient.get_stdout">
<tt class="descname">get_stdout</tt><big>(</big><em>greenlet</em>, <em>return_buffers=False</em><big>)</big><a class="headerlink" href="#pssh.ParallelSSHClient.get_stdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/print stdout from greenlet and return exit code for host</p>
<p><tt class="xref py py-mod docutils literal"><span class="pre">pssh.get_stdout</span></tt> will close the open SSH channel but this does
<strong>not</strong> close the established connection to the remote host, only the
authenticated SSH channel within it. This is standard practise
in SSH when a command has finished executing. A new command
will open a new channel which is very fast on already established
connections.</p>
<p>By default, stdout and stderr will be logged via the logger named         <tt class="docutils literal"><span class="pre">host_logger</span></tt> unless <tt class="docutils literal"><span class="pre">return_buffers</span></tt> is set to <tt class="docutils literal"><span class="pre">True</span></tt> in which case         both buffers are instead returned along with the exit status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>greenlet</strong> (<tt class="xref py py-mod docutils literal"><span class="pre">gevent.Greenlet</span></tt>) &#8211; Greenlet object containing an         SSH channel reference, hostname, stdout and stderr buffers</li>
<li><strong>return_buffers</strong> (<em>bool</em>) &#8211; Flag to turn on returning stdout and stderr         buffers along with exit code. Defaults to off.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Dictionary containing <tt class="docutils literal"><span class="pre">{host:</span> <span class="pre">{'exit_code':</span> <span class="pre">exit</span> <span class="pre">code}}</span></tt> entry         for example <tt class="docutils literal"><span class="pre">{'myhost1':</span> <span class="pre">{'exit_code':</span> <span class="pre">0}}</span></tt></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">With <tt class="docutils literal"><span class="pre">return_buffers=True</span></tt>: <tt class="docutils literal"><span class="pre">{'myhost1':</span> <span class="pre">{'exit_code':</span> <span class="pre">0,</span>
<span class="pre">'stdout'</span> <span class="pre">:</span> <span class="pre">&lt;iterable&gt;,</span>
<span class="pre">'stderr'</span> <span class="pre">:</span> <span class="pre">&lt;iterable&gt;,}}</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pssh.SSHClient">
<em class="property">class </em><tt class="descclassname">pssh.</tt><tt class="descname">SSHClient</tt><big>(</big><em>host</em>, <em>user=None</em>, <em>password=None</em>, <em>port=None</em>, <em>pkey=None</em><big>)</big><a class="headerlink" href="#pssh.SSHClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class over paramiko.SSHClient with sane defaults
Honours ~/.ssh/config and /etc/ssh/ssh_config entries for host username     overrides</p>
<p>Connect to host honouring any user set configuration in ~/.ssh/config         or /etc/ssh/ssh_config</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>host</strong> (<em>str</em>) &#8211; Hostname to connect to</li>
<li><strong>user</strong> (<em>str</em>) &#8211; (Optional) User to login as. Defaults to logged in user or         user from ~/.ssh/config if set</li>
<li><strong>password</strong> (<em>str</em>) &#8211; (Optional) Password to use for login. Defaults to        no password</li>
<li><strong>port</strong> (<em>int</em>) &#8211; (Optional) Port number to use for SSH connection. Defaults        to None which uses SSH default</li>
<li><strong>pkey</strong> (<tt class="xref py py-mod docutils literal"><span class="pre">paramiko.PKey</span></tt>) &#8211; (Optional) Client&#8217;s private key to be used to connect with</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="#pssh.AuthenticationException" title="pssh.AuthenticationException"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.AuthenticationException</span></tt></a> on authentication error</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="#pssh.UnknownHostException" title="pssh.UnknownHostException"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.UnknownHostException</span></tt></a> on DNS resolution error</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pssh.ConnectionErrorException" title="pssh.ConnectionErrorException"><tt class="xref py py-mod docutils literal"><span class="pre">pssh.ConnectionErrorException</span></tt></a> on error connecting</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pssh.SSHClient.copy_file">
<tt class="descname">copy_file</tt><big>(</big><em>local_file</em>, <em>remote_file</em><big>)</big><a class="headerlink" href="#pssh.SSHClient.copy_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy local file to host via SFTP/SCP</p>
<p>Copy is done natively using SFTP/SCP version 2 protocol, no scp command         is used or required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>local_file</strong> (<em>str</em>) &#8211; Local filepath to copy to remote host</li>
<li><strong>remote_file</strong> (<em>str</em>) &#8211; Remote filepath on remote host to copy file to</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pssh.SSHClient.exec_command">
<tt class="descname">exec_command</tt><big>(</big><em>command</em>, <em>sudo=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pssh.SSHClient.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to <tt class="xref py py-mod docutils literal"><span class="pre">paramiko.SSHClient.exec_command</span></tt></p>
<p>Opens a new SSH session with a pty and runs command with given         <cite>kwargs</cite> if any. Greenlet then yields (sleeps) while waiting for         command to finish executing or channel to close indicating the same.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> (<em>str</em>) &#8211; Shell command to execute</li>
<li><strong>sudo</strong> (<em>bool</em>) &#8211; (Optional) Run with sudo. Defaults to False</li>
<li><strong>kwargs</strong> (<em>dict</em>) &#8211; (Optional) Keyword arguments to be passed to remote         command</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple of <cite>(channel, hostname, stdout, stderr)</cite>.         Channel is the remote SSH channel, needed to ensure all of stdout has         been got, hostname is remote hostname the copy is to, stdout and         stderr are buffers containing command output.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pssh.SSHClient.mkdir">
<tt class="descname">mkdir</tt><big>(</big><em>sftp</em>, <em>directory</em><big>)</big><a class="headerlink" href="#pssh.SSHClient.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Make directory via SFTP channel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sftp</strong> (<tt class="xref py py-mod docutils literal"><span class="pre">paramiko.SFTPClient</span></tt>) &#8211; SFTP client object</li>
<li><strong>directory</strong> (<em>str</em>) &#8211; Remote directory to create</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Catches and logs at error level remote IOErrors on creating directory.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pssh.UnknownHostException">
<em class="property">exception </em><tt class="descclassname">pssh.</tt><tt class="descname">UnknownHostException</tt><a class="headerlink" href="#pssh.UnknownHostException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a host is unknown (dns failure)</p>
</dd></dl>

<dl class="exception">
<dt id="pssh.ConnectionErrorException">
<em class="property">exception </em><tt class="descclassname">pssh.</tt><tt class="descname">ConnectionErrorException</tt><a class="headerlink" href="#pssh.ConnectionErrorException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised on error connecting (connection refused/timed out)</p>
</dd></dl>

<dl class="exception">
<dt id="pssh.AuthenticationException">
<em class="property">exception </em><tt class="descclassname">pssh.</tt><tt class="descname">AuthenticationException</tt><a class="headerlink" href="#pssh.AuthenticationException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised on authentication error (user/password/ssh key error)</p>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to Parallel-SSH&#8217;s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">Parallel-SSH 0.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, P Kittenis.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>